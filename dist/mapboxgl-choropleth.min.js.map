{"version":3,"sources":["mapboxgl-choropleth.min.js"],"names":["f","exports","module","define","window"],"mappings":"UAAUA,GAAG,GAAoBC,iBAAVA,SAAoC,oBAAAC,OAAaA,OAAOD,QAAQD,SAAmBG,GAASA,mBAATA,QAAqBA,OAAYA,IAAAA,UAAUH,OAO9HC,EAAAA,oBAPsJG,OAOtJH,OAAAA,oBAAAA,OAAAA,OAAAA,oBAAAA,KAAAA,KAAAA,MAAAA,WAAAA,MAAAA,WAAAA,OAAAA,SAAAA,EAAAA,EAAAA,EAAAA,GAAAA,SAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,CAAAA,IAAAA,EAAAA,GAAAA,CAAAA,IAAAA,EAAAA,mBAAAA,SAAAA,QAAAA,IAAAA,GAAAA,EAAAA,OAAAA,EAAAA,GAAAA,GAAAA,GAAAA,EAAAA,OAAAA,EAAAA,GAAAA,GAAAA,IAAAA,EAAAA,IAAAA,MAAAA,uBAAAA,EAAAA,KAAAA,MAAAA,EAAAA,KAAAA,mBAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,YAAAA,EAAAA,GAAAA,GAAAA,KAAAA,EAAAA,QAAAA,SAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAAAA,GAAAA,GAAAA,OAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,QAAAA,EAAAA,EAAAA,EAAAA,GAAAA,OAAAA,EAAAA,GAAAA,QAAAA,IAAAA,IAAAA,EAAAA,mBAAAA,SAAAA,QAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,EAAAA,EAAAA,IAAAA,OAAAA,EAAAA,EAAAA,GAAAA,SAAAA,EAAAA,EAAAA,yjrCAAAA","file":"mapboxgl-choropleth.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Choropleth = f()}})(function(){var define,module,exports;return (function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar config = {\n    mapboxAccessToken: 'pk.eyJ1IjoiYW9zaWthIiwiYSI6IjQzRGIxeEkifQ.7OvmyBbXwwt9Qxjlh9Qd3w'\n};\n\nexports.default = config;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _config = require('../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getColor(d) {\n    return d > 1000 ? '#800026' : d > 500 ? '#BD0026' : d > 200 ? '#E31A1C' : d > 100 ? '#FC4E2A' : d > 50 ? '#FD8D3C' : d > 20 ? '#FEB24C' : d > 10 ? '#FED976' : '#FFEDA0';\n} // import {$, jQuery} from 'jquery';\n\n\n;(function ($, window, document, undefined) {\n    /**\r\n     * Plugin namespace\r\n     */\n    var namespace = {\n        pluginName: 'Choropleth'\n    };\n\n    /**\r\n     * Default Options\r\n     */\n    var defaultOptions = {\n        /**\r\n         * Mapbox configuration\r\n         */\n        mapboxConfig: {\n            container: 'map',\n            style: 'mapbox://styles/aosika/cj8tmsx9cdk3m2rqmxbq8gr1b',\n            center: [-96, 37.8],\n            zoom: 4\n        } // mapbox\n    };\n\n    /**\r\n     * Constructor\r\n     */\n    namespace['pluginName'] = function (userOptions) {\n        // Combine/merge default and user options\n        this.options = $.extend(true, defaultOptions, userOptions);\n\n        /**\r\n         * Init\r\n         */\n        this.init();\n\n        /**\r\n         * Controller\r\n         */\n        this.controller = {};\n    };\n\n    /**\r\n     * Prototype\r\n     */\n\n    namespace['pluginName'].prototype = {\n        /*------------------------------------*\\\r\n          STATE\r\n        \\*------------------------------------*/\n        map: null,\n\n        /**\r\n         * Init\r\n         */\n        init: function init() {\n            console.log('init');\n            this.instantiateMap();\n        },\n        // init()\n\n        /**\r\n         * Instantiate mapbox\r\n         */\n        instantiateMap: function instantiateMap() {\n            var _this = this;\n\n            // Map instance\n            var map = void 0;\n            // Mapbox access token\n            mapboxgl.accessToken = _config2.default.mapboxAccessToken;\n            // Instantiate mapbox\n            map = new mapboxgl.Map(this.options.mapboxConfig);\n\n            this.map = map;\n\n            // Map load promise\n            new Promise(function (resolve, reject) {\n                _this.map.on('load', _this.mapLoaded.bind(_this, resolve));\n            }).then(this.afterMapLoaded.bind(this, this.map));\n        },\n        // instantiateMap()\n\n        mapLoaded: function mapLoaded(resolve) {\n            // Resolve map load promise\n            resolve();\n\n            // Add source for state polygons hosted on Mapbox, based on US Census Data:\n            // https://www.census.gov/geo/maps-data/data/cbf/cbf_state.html\n            this.map.addSource('states', {\n                type: 'geojson',\n                data: 'data/stateData.geojson'\n            });\n\n            // map.addLayer({\n            //     \"id\": \"states-join\",\n            //     \"type\": \"fill\",\n            //     \"source\": \"states\",\n            //     \"paint\": {\n            //         \"fill-color\": [\n            //             'step',\n            //             [\"get\", \"density\"],\n            //             \"#FFEDA0\",\n            //             10, \"#FFEDA0\",\n            //             20, \"#FED976\",\n            //             50, \"#FEB24C\",\n            //             100, \"#FD8D3C\",\n            //             200, \"#FC4E2A\",\n            //             500, \"#E31A1C\"\n            //         ],\n            //         \"fill-opacity\": 0.8\n            //     }\n            // });\n\n            this.map.addLayer({\n                \"id\": \"states-join\",\n                \"type\": \"fill\",\n                \"source\": \"states\",\n                \"paint\": {\n                    \"fill-color\": ['interpolate', ['linear'], ['get', 'density'], 10, \"#FFEDA0\", 20, \"#FED976\", 50, \"#FEB24C\", 100, \"#FD8D3C\", 200, \"#FC4E2A\", 500, \"#E31A1C\", 1000, \"#BD0026\"],\n                    \"fill-opacity\": 0.8\n                }\n            });\n\n            this.map.on('click', 'states-join', function (e) {\n                console.log(e.features);\n                console.log(e.features[0].properties.name);\n            });\n        },\n        afterMapLoaded: function afterMapLoaded(map) {}\n    };\n\n    console.log($.fn);\n\n    /*------------------------------------*\\\r\n      Export \r\n    \\*------------------------------------*/\n    module.exports = namespace['pluginName'];\n})(jQuery, window, document);\n\n},{\"../config\":1}]},{},[2])(2)\n});\n"]}